<!--
  Generated template for the MoveDetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar color="primary">
    <ion-title text-capitalize text-wrap>
      Move Details
    </ion-title>
    <ion-buttons end>
      <button ion-button (click)="closeModal()">
        <span ion-text text-uppercase>close</span>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content padding style="background: #ebf1fc;">

  <ion-spinner #spinner name="crescent" style="
    margin:auto;
    top:0;
    bottom:0;
    left:0;
    right:0;
    position:fixed;
  "></ion-spinner>

  <div *ngIf="modalLoaded">
    <ion-grid>
      <ion-row>
        <ion-col col-12>
          <span text-left text-capitalize>
            <h4>{{formatName(moveDetails.name)}}</h4>
            <hr>
          </span>
        </ion-col>
      </ion-row>
      <br>
      <ion-row>
        <ion-col text-center>
          <span text-center>
            <ion-badge *ngFor="let learn of moveDetails.learn_method" style="margin-right: 2px; margin-left: 2px;" text-center>
              <span text-uppercase>
                {{learn.move_learn_method.name.replace('-', ' ')}}
                <br>
                <small style="color: #000; font-weight: 500;">
                  {{learn.move_learn_method.name == 'level-up' ? 'at level '+ learn.level_learned_at : ''}}
                </small>
              </span>
            </ion-badge>
            <br>
            <small style="color:grey">
              Learn Method
              <br>
            </small>
          </span>
        </ion-col>
      </ion-row>
      <br>
      <ion-row text-center>
        <ion-col col-7>
          <ion-badge style="display:block; padding:7px;" [color]="typeColor(moveDetails.type.name)">
            <span text-center text-uppercase>
              {{moveDetails.type.name}}
            </span>
          </ion-badge>
        </ion-col>
        <ion-col col-5>
          <ion-badge style="display:block; padding:7px;" [color]="damageClassColor(moveDetails.damage_class.name)">
            <span text-center text-uppercase>
              {{moveDetails.damage_class.name}}
            </span>
          </ion-badge>
        </ion-col>
      </ion-row>
      <br>
      <ion-row text-center>
        <ion-col col-4>
          <span text-center text-capitalize>
            {{!!moveDetails.accuracy ? moveDetails.accuracy : '-'}}
            <br>
            <small style="color:grey">accuracy</small>
          </span>
        </ion-col>
        <ion-col col-4>
          <span text-center text-capitalize>
            {{moveDetails.power ? moveDetails.power : '-'}}
            <br>
            <small style="color:grey">power</small>
          </span>
        </ion-col>
        <ion-col col-4>
          <span text-center text-capitalize>
            {{moveDetails.pp ? moveDetails.pp : '-'}}
            <br>
            <small style="color:grey">PP</small>
          </span>
        </ion-col>
      </ion-row>
      <br>
      <ion-row>
        <ion-col>
          <span text-wrap text-left>
            <hr>
            <br> {{formatEffectDescription(moveDetails.effect_entries[0].short_effect)}}
            <hr>
          </span>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>